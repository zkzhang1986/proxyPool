# proxyPool
ip代理池
基本库：aiohttp、request、redis_py、pyquery、Flask
基本模块：存储模块，获取模块（IP），检测模块，接口模块，调度模块（用于串连前面4个模块）

StorageModule（存储模块）
AcquisitionModule（获取模块）
CheckingModule（检测模块）
InterfaceModule（接口模块）
SchedulingModule（调度模块）

调度顺序：获取模块------> 存储模块<-------> 检测模块
                             ↓
                          接口模块

获取模块：
定时在各大代理网站抓取代理。代理可以是付费也可以是免费。代理形式：IP+端口。抓取成功后将可用代理保存在数据库中。

存储模块：
负责存储抓取来下的代理。保证代理不重复，要标识代理的可用情况，还要动态实时处理没个代理，使用Redis的SortedSet，即有序集合。

检查模块：
定时检测数据库中的代理，设置一检测链接，最好是爬哪个网站就检查哪个网站，这样更加有针对性。
如果是通用型的代理，可以设置百度等链接来检测。另外需要标识每一个代理的状态，
如设置分数标识。100分代表可用，分数越少代表越不可用。检测一次如果代理可用，将分数标识立即设置为100，或在原基础分上加1分；
如代理不可用，将分数标识减1分。当分数减到一定值后，代理直接从数据库移除。通过标识分数，可以辨别代理的可用情况。

接口模块：
需要用API 来提供对外服务的接口。其实可以直接连接数据库来获取对应的数据，但这样就需要知道数据库的连接信息，并且需要匹配连接。
而比较安全的方式就是提供一个Web API 接口。通过访问接口即可拿到可用代理。这样能保证每个可用代理都可以取到，实现负载均衡。
